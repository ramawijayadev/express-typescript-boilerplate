<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dependency Handbook</title>
  <style>
    /* DESIGN SYSTEM: Matches Architecture & Convention Handbook */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap');

    :root {
      --bg-color: #ffffff;
      --text-main: #111827;
      --text-muted: #4b5563;
      --accent-color: #2563eb;
      /* Consistent Blue Tech */
      --border-color: #e5e7eb;
      --code-bg: #f3f4f6;
      --code-text: #db2777;
      --section-bg: #f9fafb;

      /* Badge Colors */
      --badge-core: #0f172a;
      /* Slate 900 */
      --badge-rec: #2563eb;
      /* Blue 600 */
      --badge-opt: #64748b;
      /* Slate 500 */
      --badge-dev: #7c3aed;
      /* Violet 600 */
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Inter', sans-serif;
      line-height: 1.6;
      color: var(--text-main);
      max-width: 850px;
      margin: 0 auto;
      padding: 60px 24px;
      background-color: var(--bg-color);
    }

    h1,
    h2,
    h3,
    h4 {
      font-weight: 700;
      color: var(--text-main);
      letter-spacing: -0.025em;
    }

    h1 {
      font-size: 3.5rem;
      line-height: 1.1;
      margin-bottom: 0.5rem;
      letter-spacing: -0.04em;
    }

    .subtitle {
      font-size: 1.5rem;
      font-weight: 500;
      color: var(--text-muted);
      margin-bottom: 2rem;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 2rem;
    }

    h2 {
      font-size: 1.8rem;
      margin-top: 3.5rem;
      margin-bottom: 1.5rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid var(--text-main);
    }

    h3 {
      font-size: 1.25rem;
      margin-top: 2rem;
      margin-bottom: 0.75rem;
      color: var(--text-main);
    }

    p {
      margin-bottom: 1.25rem;
      color: var(--text-muted);
    }

    strong {
      color: var(--text-main);
      font-weight: 600;
    }

    ul,
    ol {
      margin-bottom: 1.5rem;
      padding-left: 1.5rem;
      color: var(--text-muted);
    }

    li {
      margin-bottom: 0.5rem;
      /* Avoid breaking badges inside list items */
      page-break-inside: avoid;
    }

    /* Special Box for Intro */
    .intro-box {
      border-left: 4px solid var(--accent-color);
      background-color: var(--section-bg);
      padding: 1.5rem;
      margin-bottom: 3rem;
      border-radius: 0 8px 8px 0;
    }

    /* CODE BLOCKS */
    code {
      font-family: 'JetBrains Mono', monospace;
      background-color: var(--code-bg);
      color: var(--code-text);
      padding: 0.2em 0.4em;
      border-radius: 4px;
      font-size: 0.85em;
      font-weight: 500;
    }

    pre {
      background-color: var(--code-bg);
      padding: 1.5rem;
      border-radius: 8px;
      border: 1px solid var(--border-color);
      overflow-x: auto;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85em;
      line-height: 1.5;
      margin-bottom: 1.5rem;
      color: var(--text-main);
    }

    pre code {
      background-color: transparent;
      padding: 0;
      color: inherit;
      border: none;
    }

    /* DEPENDENCY ITEM STYLING */
    .dep-item {
      margin-bottom: 1rem;
      padding: 1rem;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      background-color: #fff;
      transition: transform 0.1s;
    }

    .dep-item:hover {
      border-color: var(--accent-color);
    }

    .dep-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 0.5rem;
      flex-wrap: wrap;
    }

    .dep-name {
      font-family: 'JetBrains Mono', monospace;
      font-weight: 700;
      font-size: 1rem;
      color: var(--text-main);
    }

    .dep-desc {
      font-size: 0.95rem;
      color: var(--text-muted);
      margin: 0;
    }

    /* BADGES */
    .badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-family: 'Inter', sans-serif;
      font-size: 0.65rem;
      font-weight: 800;
      padding: 4px 8px;
      border-radius: 6px;
      text-transform: uppercase;
      color: white;
      letter-spacing: 0.05em;
    }

    .tag-core {
      background-color: var(--badge-core);
    }

    .tag-rec {
      background-color: var(--badge-rec);
    }

    .tag-opt {
      background-color: var(--badge-opt);
    }

    .tag-dev {
      background-color: var(--badge-dev);
    }

    /* TOC */
    .toc {
      background-color: var(--section-bg);
      padding: 2rem;
      border-radius: 8px;
      border: 1px solid var(--border-color);
      margin-bottom: 4rem;
    }

    .toc h3 {
      margin-top: 0;
      font-size: 0.875rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
    }

    .toc ul {
      list-style: none;
      padding-left: 0;
      margin-bottom: 0;
      column-count: 2;
      column-gap: 2rem;
    }

    .toc li {
      margin-bottom: 0.5rem;
    }

    .toc a {
      text-decoration: none;
      color: var(--accent-color);
      font-weight: 500;
      transition: color 0.2s;
    }

    .toc a:hover {
      color: var(--text-main);
      text-decoration: underline;
    }

    @media print {
      body {
        padding: 0;
        color: #000;
      }

      h2 {
        break-before: auto;
        page-break-after: avoid;
        border-bottom: 1px solid #000;
      }

      .toc {
        display: none;
      }

      .dep-item {
        break-inside: avoid;
        border: 1px solid #ccc;
      }

      .badge {
        border: 1px solid #000;
        color: #000;
        background: none !important;
      }
    }
  </style>
</head>

<body>

  <header>
    <h1>Dependency Handbook</h1>
    <div class="subtitle">Standardized Package & Tooling Guide</div>
  </header>

  <div class="intro-box">
    <p style="margin:0;">
      <strong>Document Purpose:</strong> Defines the standard technology stack (Node.js, Express, PostgreSQL, Prisma,
      Redis) to ensure consistency, performance, and ease of maintenance across the entire project. This document serves
      as the **Single Source of Truth** for all installed packages.
    </p>
  </div>

  <nav class="toc">
    <h3>Table of Contents</h3>
    <ul>
      <li><a href="#legend">0. Legend</a></li>
      <li><a href="#runtime">1. Core Runtime & Config</a></li>
      <li><a href="#http">2. HTTP & API Machinery</a></li>
      <li><a href="#security">3. Security & Hardening</a></li>
      <li><a href="#auth">4. Authentication & Crypto</a></li>
      <li><a href="#db">5. Database & Migrations</a></li>
      <li><a href="#cache">6. Cache & Queue</a></li>
      <li><a href="#logging">7. Logging & Observability</a></li>
      <li><a href="#utilities">8. Utilities & Helpers</a></li>
      <li><a href="#cli">9. Command Line Interface</a></li>
      <li><a href="#docs">10. API Documentation</a></li>
      <li><a href="#test">11. Testing & QA</a></li>
      <li><a href="#dev">12. Developer Experience</a></li>
      <li><a href="#build">13. Build & Compiler</a></li>
      <li><a href="#external">14. External Infra</a></li>
    </ul>
  </nav>

  <section id="legend">
    <h2>0. Legend</h2>
    <ul>
      <li><span class="badge tag-core">CORE</span> <strong>Mandatory.</strong> Application will not run or will violate
        architecture standards without this.</li>
      <li><span class="badge tag-rec">RECOMMENDED</span> <strong>Highly Suggested.</strong> "Production Ready" standard.
        Can be replaced only if there is a very strong reason.</li>
      <li><span class="badge tag-opt">OPTIONAL</span> <strong>Optional.</strong> Use only if the specific feature is
        required.</li>
      <li><span class="badge tag-dev">DEV</span> <strong>Development.</strong> Only needed for local dev, testing, or
        building.</li>
    </ul>
  </section>

  <section id="runtime">
    <h2>1. Core Runtime & Config</h2>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">express</span> <span class="badge tag-core">CORE</span>
      </div>
      <p class="dep-desc">Minimalist web framework for routing and middleware. The backbone of the application.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">zod</span> <span class="badge tag-core">CORE</span>
      </div>
      <p class="dep-desc">TypeScript-first schema validation. Mandatory for validating environment variables (`env.ts`),
        request bodies, and database inputs.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">dotenv</span> <span class="badge tag-core">CORE</span>
      </div>
      <p class="dep-desc">Loads environment variables from a `.env` file into `process.env`. Critical for configuration
        management.</p>
    </div>
  </section>

  <section id="http">
    <h2>2. HTTP & API Machinery</h2>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">cookie-parser</span> <span class="badge tag-rec">RECOMMENDED</span>
      </div>
      <p class="dep-desc">Parse Cookie header and populate `req.cookies` with an object keyed by the cookie names.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">axios</span> <span class="badge tag-rec">RECOMMENDED</span>
      </div>
      <p class="dep-desc">Promise-based HTTP Client for making external API requests (outbound calls).</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">socket.io</span> <span class="badge tag-opt">OPTIONAL</span>
      </div>
      <p class="dep-desc">Enables real-time, bidirectional, and event-based communication. Use only for websocket
        features.</p>
    </div>
  </section>

  <section id="security">
    <h2>3. Security & Hardening</h2>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">helmet</span> <span class="badge tag-core">CORE</span>
      </div>
      <p class="dep-desc">Helps secure Express apps by setting various HTTP headers (security defaults).</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">cors</span> <span class="badge tag-core">CORE</span>
      </div>
      <p class="dep-desc">Provides a Connect/Express middleware that can be used to enable Cross-Origin Resource Sharing
        with various options.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">express-rate-limit</span> <span class="badge tag-rec">RECOMMENDED</span>
      </div>
      <p class="dep-desc">Basic rate-limiting middleware for Express. Use to limit repeated requests to public APIs
        (brute-force protection).</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">hpp</span> <span class="badge tag-rec">RECOMMENDED</span>
      </div>
      <p class="dep-desc">Protection against HTTP Parameter Pollution attacks.</p>
    </div>
  </section>

  <section id="auth">
    <h2>4. Authentication & Crypto</h2>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">jsonwebtoken</span> <span class="badge tag-core">CORE</span>
      </div>
      <p class="dep-desc">Implementation of JSON Web Tokens (standard). Used for creating and verifying access/refresh
        tokens.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">argon2</span> <span class="badge tag-core">CORE</span>
      </div>
      <p class="dep-desc">Secure password hashing algorithm. Winner of the Password Hashing Competition. Superior to
        bcrypt.</p>
    </div>
  </section>

  <section id="db">
    <h2>5. Database & Migrations</h2>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">@prisma/client</span> <span class="badge tag-core">CORE</span>
      </div>
      <p class="dep-desc">Auto-generated, type-safe query builder for Node.js & TypeScript.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">pg</span> <span class="badge tag-core">CORE</span>
      </div>
      <p class="dep-desc">Non-blocking PostgreSQL client for Node.js (native driver).</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">@prisma/adapter-pg</span> <span class="badge tag-core">CORE</span>
      </div>
      <p class="dep-desc">Driver adapter to use the `pg` driver with Prisma, enabling serverless/edge compatibility if
        needed.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">prisma</span> <span class="badge tag-dev">DEV</span>
      </div>
      <p class="dep-desc">CLI for managing your database schema, migrations, and generating the client.</p>
    </div>
  </section>

  <section id="cache">
    <h2>6. Cache & Queue</h2>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">ioredis</span> <span class="badge tag-core">CORE</span>
      </div>
      <p class="dep-desc">A robust, performance-focused, and full-featured Redis client for Node.js.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">bullmq</span> <span class="badge tag-rec">RECOMMENDED</span>
      </div>
      <p class="dep-desc">Message Queue based on Redis. Used for handling asynchronous background jobs (email, data
        processing).</p>
    </div>
  </section>

  <section id="logging">
    <h2>7. Logging & Observability</h2>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">pino</span> <span class="badge tag-core">CORE</span>
      </div>
      <p class="dep-desc">Very low overhead Node.js logger. Outputs structured JSON logs mandatory for production.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">pino-roll</span> <span class="badge tag-core">CORE</span>
      </div>
      <p class="dep-desc">Transport for pino that implements log rotation (file management based on size/date).</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">pino-pretty</span> <span class="badge tag-dev">DEV</span>
      </div>
      <p class="dep-desc">Basic beautifier for Pino logs. Used only in development for readable console output.</p>
    </div>
  </section>

  <section id="utilities">
    <h2>8. Utilities & Helpers</h2>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">uuid</span> <span class="badge tag-rec">RECOMMENDED</span>
      </div>
      <p class="dep-desc">For the generation of RFC4122 UUIDs (mostly v4). Used for Request IDs and non-DB IDs.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">http-status-codes</span> <span class="badge tag-rec">RECOMMENDED</span>
      </div>
      <p class="dep-desc">Constants enumerating the HTTP status codes. Prevents magic numbers (e.g., using
        `StatusCodes.OK` instead of `200`).</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">nodemailer</span> <span class="badge tag-rec">RECOMMENDED</span>
      </div>
      <p class="dep-desc">Send emails from Node.js â€“ easy as cake! Used for transactional emails.</p>
    </div>
  </section>

  <section id="cli">
    <h2>9. Command Line Interface</h2>
    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">commander</span> <span class="badge tag-rec">RECOMMENDED</span>
      </div>
      <p class="dep-desc">The complete solution for Node.js command-line interfaces. Used for the internal project CLI
        (`pnpm cli`).</p>
    </div>
  </section>

  <section id="docs">
    <h2>10. API Documentation</h2>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">@asteasolutions/zod-to-openapi</span> <span class="badge tag-core">CORE</span>
      </div>
      <p class="dep-desc">Generates OpenAPI (Swagger) definitions from Zod schemas. Ensures code-first documentation
        source of truth.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">swagger-ui-express</span> <span class="badge tag-rec">RECOMMENDED</span>
      </div>
      <p class="dep-desc">Serve auto-generated Swagger UI generated API docs from express. The visual frontend for docs.
      </p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">swagger-jsdoc</span> <span class="badge tag-opt">OPTIONAL</span>
      </div>
      <p class="dep-desc">Generates openapi specification based on JSDoc comments. Kept for legacy support or specific
        edge cases.</p>
    </div>
  </section>

  <section id="test">
    <h2>11. Testing & QA</h2>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">vitest</span> <span class="badge tag-core">CORE</span> (Dev)
      </div>
      <p class="dep-desc">Blazing fast unit test framework. The replacement for Jest.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">supertest</span> <span class="badge tag-rec">RECOMMENDED</span> (Dev)
      </div>
      <p class="dep-desc">High-level abstraction for testing HTTP, used for E2E testing.</p>
    </div>
  </section>

  <section id="dev">
    <h2>12. Developer Experience (DX)</h2>
    <p>Everything related to Code Quality and Linting.</p>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">eslint</span> <span class="badge tag-core">CORE</span> (Dev)
      </div>
      <p class="dep-desc">Pluggable and configurable linter tool for identifying and reporting on patterns in
        JavaScript.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">prettier</span> <span class="badge tag-core">CORE</span> (Dev)
      </div>
      <p class="dep-desc">Opinionated code formatter. Ensures consistent style.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">husky</span> <span class="badge tag-rec">RECOMMENDED</span> (Dev)
      </div>
      <p class="dep-desc">Modern native Git hooks made easy. Prevents bad git commit/push.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">lint-staged</span> <span class="badge tag-rec">RECOMMENDED</span> (Dev)
      </div>
      <p class="dep-desc">Run linters against staged git files and don't let ðŸ’© slip into your code base.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">nodemon</span> <span class="badge tag-dev">DEV</span>
      </div>
      <p class="dep-desc">Simple monitor script for use during development of a Node.js app (auto-restart).</p>
    </div>
  </section>

  <section id="build">
    <h2>13. Build & Compiler</h2>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">typescript</span> <span class="badge tag-core">CORE</span> (Dev)
      </div>
      <p class="dep-desc">Language for application scale JavaScript.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">tsx</span> <span class="badge tag-core">CORE</span> (Dev)
      </div>
      <p class="dep-desc">TypeScript Execute (tsx): Node.js enhanced to run TypeScript files (replaced ts-node).</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">tsc-alias</span> <span class="badge tag-rec">RECOMMENDED</span> (Dev)
      </div>
      <p class="dep-desc">Replace alias paths with relative paths after typescript compilation (fix for `@/` imports).
      </p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">rimraf</span> <span class="badge tag-dev">DEV</span>
      </div>
      <p class="dep-desc">The UNIX command `rm -rf` for node. Cross-platform folder deletion.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">concurrently</span> <span class="badge tag-dev">DEV</span>
      </div>
      <p class="dep-desc">Run multiple commands concurrently. Helpful for starting multiple watchers.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">cross-env</span> <span class="badge tag-dev">DEV</span>
      </div>
      <p class="dep-desc">Run scripts that set and use environment variables across platforms.</p>
    </div>
  </section>

  <section id="external">
    <h2>14. External Infra (Non-NPM)</h2>
    <p>The following tools are required in the environment but not listed in package.json.</p>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">Docker & Docker Compose</span>
      </div>
      <p class="dep-desc">Containerization platform. Required for spinning up Postgres and Redis locally.</p>
    </div>

    <div class="dep-item">
      <div class="dep-header">
        <span class="dep-name">Action Runner</span>
      </div>
      <p class="dep-desc">CI/CD Environment (e.g. GitHub Actions) for running automated tests.</p>
    </div>
  </section>

  <footer
    style="margin-top: 4rem; border-top: 1px solid var(--border-color); padding-top: 1.5rem; color: var(--text-muted); font-size: 0.875rem;">
    <p>Dependency Handbook &mdash; Internal Developer Reference</p>
  </footer>

</body>

</html>